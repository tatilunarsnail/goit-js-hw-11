{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(query) {\n    return fetch(`https://pixabay.com/api/?key=44884421-e01d7eda68b827a4ca86e08d6&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`)\n    .then((response) => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n        return response.json();\n    })\n}\n","export function renderImages(array) {\n\n    return array\n    .map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) =>\n         `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\"\n            data-source=\"${largeImageURL}\"\n            alt=\"${tags}\"\n            width=\"360px\"\n            />\n            </a>\n            <div class=\"info-box\">\n                <p>Like: <span>${likes}</span></p>\n                <p>Views: <span>${views}</span></p>\n                <p>Comments: <span>${comments}</span></p>\n                <p>Downloads: <span>${downloads}</span></p>\n            </div>\n        </li>`\n      )\n    .join(\"\");\n  }\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { fetchImages } from \"./js/pixabay-api\";\nimport { renderImages } from \"./js/render-functions\";\n\nconst links = document.querySelectorAll(\".gallery-link\");\nconst form = document.querySelector(\".form\");\nconst galleryList = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    loader.style.opacity = \"1\";\n    if (event.target.elements.query.value === \"\") {\n        return;\n    } else {\n        fetchImages(event.target.elements.query.value)\n        .then((images) => {\n            if (images.hits.length === 0) {\n                iziToast.error({\n                    title: '',\n                    icon: '',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topCenter',\n                    backgroundColor: \"#ef4040\",\n                    titleColor: \"#fff\",\n                    messageColor: \"#fff\"\n                    })\n            } else {\n                galleryList.innerHTML = \"\";\n                galleryList.insertAdjacentHTML(\"beforeend\", renderImages(images.hits));\n                links.forEach(link => link.addEventListener(\"click\", event => event.preventDefault()));\n                const lightbox = new SimpleLightbox('.gallery a', {\n                    captionsData: \"alt\",\n                    captionPosition: \"bottom\",\n                    captionDelay: 250\n                });\n                lightbox.refresh();\n            }\n        })\n        .catch((error) => iziToast.error({\n            title: '',\n            icon: '',\n            message: `${error}`,\n            position: 'topCenter',\n            backgroundColor: \"#ef4040\",\n            titleColor: \"#fff\",\n            messageColor: \"#fff\"\n            })\n        )\n        loader.style.opacity = \"0\";\n    }\n  });\n"],"names":["fetchImages","query","response","renderImages","array","webformatURL","largeImageURL","tags","likes","views","comments","downloads","links","form","galleryList","loader","event","images","iziToast","link","SimpleLightbox","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CAC/B,OAAO,MAAM,qEAAqEA,CAAK,0DAA0D,EAChJ,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACxB,CAAK,CACL,CCRO,SAASC,EAAaC,EAAO,CAEhC,OAAOA,EACN,IAAI,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACtE;AAAA,4CACmCL,CAAa;AAAA;AAAA;AAAA,mBAGtCD,CAAY;AAAA,2BACJC,CAAa;AAAA,mBACrBC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,iCAKUC,CAAK;AAAA,kCACJC,CAAK;AAAA,qCACFC,CAAQ;AAAA,sCACPC,CAAS;AAAA;AAAA,cAGxC,EACF,KAAK,EAAE,CACZ,CChBA,MAAMC,EAAQ,SAAS,iBAAiB,eAAe,EACjDC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAWG,GAAU,CACvCA,EAAM,eAAc,EACpBD,EAAO,MAAM,QAAU,IACnBC,EAAM,OAAO,SAAS,MAAM,QAAU,KAGtChB,EAAYgB,EAAM,OAAO,SAAS,MAAM,KAAK,EAC5C,KAAMC,GAAW,CACVA,EAAO,KAAK,SAAW,EACvBC,EAAS,MAAM,CACX,MAAO,GACP,KAAM,GACN,QAAS,2EACT,SAAU,YACV,gBAAiB,UACjB,WAAY,OACZ,aAAc,MAClC,CAAqB,GAELJ,EAAY,UAAY,GACxBA,EAAY,mBAAmB,YAAaX,EAAac,EAAO,IAAI,CAAC,EACrEL,EAAM,QAAQO,GAAQA,EAAK,iBAAiB,QAASH,GAASA,EAAM,eAAgB,CAAA,CAAC,EACpE,IAAII,EAAe,aAAc,CAC9C,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClC,CAAiB,EACQ,QAAO,EAEhC,CAAS,EACA,MAAOC,GAAUH,EAAS,MAAM,CAC7B,MAAO,GACP,KAAM,GACN,QAAS,GAAGG,CAAK,GACjB,SAAU,YACV,gBAAiB,UACjB,WAAY,OACZ,aAAc,MAC1B,CAAa,CACJ,EACDN,EAAO,MAAM,QAAU,IAE/B,CAAG"}